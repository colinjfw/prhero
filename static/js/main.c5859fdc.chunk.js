(this.webpackJsonpprhero=this.webpackJsonpprhero||[]).push([[0],{145:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),o=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(5),l=n(4),u=n.n(l),s=n(51),f=n(43),p=n.n(f),d={};function h(e,t,n){var r;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(r="".concat(e,":").concat(t),!d[r]){a.next=3;break}return a.abrupt("return",d[r]);case 3:return a.next=5,u.a.awrap(n());case 5:return d[r]=a.sent,a.abrupt("return",d[r]);case 7:case"end":return a.stop()}}))}var m=new URLSearchParams(window.location.search),v=m.get("token"),b=m.get("url"),g=new p.a({auth:v||void 0,baseUrl:b||void 0});function w(e,t,n){var r=t.owner,a=t.repo,c=t.ref;return h(e.key,"content/".concat(r,"/").concat(a,"/").concat(c,"/").concat(n),(function(){return g.repos.getContents({owner:r,repo:a,ref:c,path:n,headers:{accept:"application/vnd.github.v3.raw"}}).then((function(e){return e.data}))}))}function E(e){var t=e.key,n=e.owner,r=e.repo,a=e.base,c=e.head;return h(t,"diff",(function(){return g.repos.compareCommits({owner:n,repo:r,base:a.fullRef,head:c.fullRef}).then((function(e){return e.data}))}))}function x(e,t,n){var r=e.key,a=t.owner,c=t.repo,o=t.ref;return h(r,"files/".concat(a,"/").concat(c,"/").concat(o,"/").concat(n),(function(){return g.repos.getContents({owner:a,repo:c,ref:o,path:n}).then((function(e){return e.data}))}))}function y(e,t,n){var r,a;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,u.a.awrap(g.pulls.get({owner:e,repo:t,pull_number:n}).then((function(e){return e.data})));case 2:return r=c.sent,a={owner:e,repo:t,number:r.number,key:"".concat(e,"/").concat(t,"/").concat(r.number,"/").concat(r.head.sha,"/").concat(r.base.sha),base:O(r.base),head:O(r.head)},c.abrupt("return",[a,r]);case 5:case"end":return c.stop()}}))}function O(e){return{owner:e.repo.owner.login,repo:e.repo.name,ref:e.ref,sha:e.sha,fullRef:"".concat(e.repo.owner.login,":").concat(e.ref)}}function j(e,t,n){var r=JSON.parse(JSON.stringify(e)),a=t.split("/"),c=r,o=!0,i=!1,l=void 0;try{for(var u,s=function(){var e=u.value;c=c.children.find((function(t){return t.name===e}))},f=a[Symbol.iterator]();!(o=(u=f.next()).done);o=!0)s()}catch(p){i=!0,l=p}finally{try{o||null==f.return||f.return()}finally{if(i)throw l}}return c.children.length>0?r:(c.children=n,r)}function k(e,t,n){return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.a.awrap(S(e,t,"",n));case 2:return r.t0=r.sent,r.abrupt("return",{type:"folder",path:"/",name:"/",status:"unchanged",children:r.t0});case 4:case"end":return r.stop()}}))}function S(e,t,n,r){var a,c;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a=function(e,t){if("folder"===e)return r.find((function(e){return e.filename.startsWith(t)}))?"modified":"unchanged";var n=r.find((function(e){return e.filename===t}));return n?n.status:"unchanged"},o.next=3,u.a.awrap(x(e,t,n));case 3:if("file"!==(c=o.sent).type){o.next=6;break}return o.abrupt("return",[]);case 6:return o.abrupt("return",Promise.all(c.map((function(e){return"dir"===e.type?{type:"folder",name:e.name,path:e.path,status:a("folder",e.path),children:[]}:{type:"file",name:e.name,path:e.path,status:a("file",e.path),children:[]}}))));case 7:case"end":return o.stop()}}))}function C(e){var t,n,r;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(E(e));case 2:return t=a.sent,n=t.files.map((function(e){return{additions:e.additions,changes:e.changes,deletions:e.deletions,filename:e.filename,url:e.raw_url,sha:e.sha,status:e.status}})),r=t.commits.map((function(e){return{sha:e.sha,message:e.commit.message,author:{login:e.author.login,avatarUrl:e.author.avatar_url}}})),a.abrupt("return",{diffFiles:n,commits:r});case 6:case"end":return a.stop()}}))}function H(e,t,n){var r,a,c,o,l,s,f;return u.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,u.a.awrap(y(e,t,n));case 2:return r=p.sent,a=Object(i.a)(r,2),c=a[0],o=a[1],p.next=8,u.a.awrap(C(c));case 8:return l=p.sent,s=l.diffFiles,f=l.commits,p.t0=o.title,p.t1=c,p.t2=o.body,p.t3=o.state,p.t4=o.number,p.t5=o.user.login,p.t6=e,p.t7=t,p.next=21,u.a.awrap(k(c,c.head,s));case 21:return p.t8=p.sent,p.t9=c.head,p.t10=c.base,p.t11=s,p.t12=f,p.abrupt("return",{title:p.t0,pr:p.t1,description:p.t2,state:p.t3,number:p.t4,author:p.t5,owner:p.t6,repo:p.t7,root:p.t8,head:p.t9,base:p.t10,diffFiles:p.t11,commits:p.t12});case 27:case"end":return p.stop()}}))}var L=n(9),z=n(2);function N(){return a.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-chevron-right",viewBox:"0 0 8 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},a.a.createElement("path",{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}))}function R(){return a.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-chevron-down",viewBox:"0 0 10 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},a.a.createElement("path",{fillRule:"evenodd",d:"M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z"}))}function M(){return a.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-file",viewBox:"0 0 12 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},a.a.createElement("path",{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}))}var I=n(3);function F(){var e=Object(L.a)(["\n  position: relative;\n  padding-top: 10px;\n  font-size: 14px;\n  line-height: 20px;\n  background-color: #fafbfc;\n  height: calc(100% - 30px);\n  overflow-y: scroll;\n"]);return F=function(){return e},e}function P(){var e=Object(L.a)(["\n  & > svg {\n    display: inline-block;\n    vertical-align: middle;\n  }\n"]);return P=function(){return e},e}function V(){var e=Object(L.a)(["\n  background-color: rgba(0, 30, 30, 0.2);\n"]);return V=function(){return e},e}function B(){var e=Object(L.a)(["\n  background-color: rgba(0, 68, 196, 0.3);\n"]);return B=function(){return e},e}function J(){var e=Object(L.a)(["\n  position: absolute;\n  left: 0;\n  width: 300px;\n  margin-top: -1.5px;\n  height: 24px;\n  pointer-events: none;\n"]);return J=function(){return e},e}function T(){var e=Object(L.a)(["\n  list-style-type: none;\n  margin: 0;\n  padding-left: 1em;\n"]);return T=function(){return e},e}function U(){var e=Object(L.a)(["\n  padding: 2px 0;\n  cursor: pointer\n  margin: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return U=function(){return e},e}var _=z.c.li(U()),W=z.c.ul(T()),A=z.c.div(J()),D=Object(z.c)(A)(B()),q=Object(z.c)(A)(V()),$=Object(z.c)(I.h)(P()),G=z.c.div(F());function K(e){var t=e.type,n=e.open;return"file"===t?a.a.createElement(M,null):n?a.a.createElement(R,null):a.a.createElement(N,null)}function Q(e){var t=e.name,n=e.children,c=e.type,o=e.path,l=e.selected,u=e.status,s=e.onOpen,f=e.onHover,p=e.hovered,d=e.onSelect,h=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1];return[n,function(){a(!n)}]}(),m=Object(i.a)(h,2),v=m[0],b=m[1],g=(null===l||void 0===l?void 0:l.path)===o,w=p===o;return a.a.createElement(_,{onMouseOver:function(e){e.stopPropagation(),f(o)},onClick:function(e){var r;e.stopPropagation(),"folder"===c&&(s(o),b()),"file"===c&&(s((r=o).substr(0,r.lastIndexOf("/"))),d({path:o,status:u,type:c,name:t,children:n}))}},g&&a.a.createElement(D,null),w&&!g&&a.a.createElement(q,null),a.a.createElement($,{color:Y(u)},a.a.createElement(K,{type:c,open:v})," ",t),n.length>0&&v&&a.a.createElement(W,null,Z(n).map((function(e){return a.a.createElement(Q,Object.assign({hovered:p,onHover:f,onOpen:s,status:u,key:e.path,selected:l,onSelect:d},e))}))))}function X(e){var t=e.children,n=e.onOpen,r=e.onHover,c=e.hovered,o=e.onSelect,i=e.selected,l=e.status;return a.a.createElement(G,{onMouseLeave:function(){r(null)}},a.a.createElement(W,null,Z(t).map((function(e){return a.a.createElement(Q,Object.assign({onOpen:n,onHover:r,hovered:c,status:l,key:e.path,selected:i,onSelect:o},e))}))))}function Y(e){switch(e){case"added":return"green.8";case"removed":return"red.8";case"modified":return"yellow.8";case"unchanged":return"black"}}function Z(e){return e.sort((function(e,t){return"folder"===e.type&&"file"===t.type?-1:"folder"===t.type&&"file"===e.type?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:1}))}var ee=n(26);function te(){var e=Object(L.a)(["\n  margin: 0;\n  padding: 5px;\n  font-size: 0.8em;\n  height: 30px;\n  font-weight: bold;\n  color: #586069;\n  border-bottom: thin solid #eee;\n"]);return te=function(){return e},e}function ne(){var e=Object(L.a)(["\n  width: 100%;\n  height: calc(100% - 30px);\n"]);return ne=function(){return e},e}var re={js:"javascript",ts:"typescript",md:"markdown",rb:"ruby",py:"python",json:"json",yml:"yaml",yaml:"yaml",Dockerfile:"dockerfile",go:"go"},ae=z.c.div(ne());function ce(e){var t=e.filename,n=e.original,r=e.modified,c=t.split(".").pop()||"";return a.a.createElement(ae,null,a.a.createElement(ee.DiffEditor,{original:n,modified:r,language:re[t]||re[c],options:{readOnly:!0},height:"100%"}))}var oe=z.c.p(te());function ie(e){var t=e.setMenu,n=e.selected,r=e.name;return a.a.createElement(I.g,{onClick:function(){return t(r)},muted:n===r,href:"#".concat(r),p:2},r)}function le(e){var t=function(e){var t=e.pr,n=e.base,a=e.head,c=e.obj,o=Object(r.useState)(null),l=Object(i.a)(o,2),s=l[0],f=l[1];return Object(r.useEffect)((function(){!function(){var e,r;u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,u.a.awrap("added"===c.status?"":w(t,n,c.path));case 2:return e=o.sent,o.next=5,u.a.awrap("removed"===c.status?"":w(t,a,c.path));case 5:r=o.sent,f({original:e,modified:r,filename:c.path});case 7:case"end":return o.stop()}}))}()}),[t,n,a,c]),s}({pr:e.pr,base:e.base,head:e.head,obj:e.selected});return t?a.a.createElement(ce,t):a.a.createElement("div",null,"Loading...")}function ue(){var e=Object(L.a)(["\n  width: 100%;\n  padding: 10px;\n  height: 70px;\n  display: flex;\n  z-index: 1;\n  box-shadow: 0 1px 1px rgba(27, 31, 35, 0.1);\n"]);return ue=function(){return e},e}var se=z.c.div(ue());function fe(e){var t=e.owner,n=e.repo,r=e.number,c=e.title,o=e.head,i=e.base,l=e.author,u=e.commits;return a.a.createElement(se,null,a.a.createElement(I.e.Item,{pr:4,alignSelf:"flex-end"},a.a.createElement(I.h,null,a.a.createElement(I.g,{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/".concat(t,"/").concat(n,"/pull/").concat(r)},t,"/",n,"#",r)),a.a.createElement(I.f,{fontSize:2,className:"text-center"},c)),a.a.createElement(I.e.Item,{alignSelf:"flex-end"},a.a.createElement(I.h,null,a.a.createElement(I.g,{href:"https://github.com/".concat(l)},l)," wants to merge ",u.length," ",1===u.length?"commit":"commits"," ","into"," ",a.a.createElement(I.c,null,i.owner,":",i.ref)," ","from"," ",a.a.createElement(I.c,null,o.owner,":",o.ref))))}function pe(e){var t=e.owner,n=e.repo,c=e.pr;var o=Object(r.useState)("Tree"),l=Object(i.a)(o,2),f=l[0],p=l[1],d=Object(r.useState)(),h=Object(i.a)(d,2),m=h[0],v=h[1],b=Object(r.useState)(null),g=Object(i.a)(b,2),w=g[0],E=g[1],x=Object(r.useState)(null),y=Object(i.a)(x,2),O=y[0],k=y[1],C=function(e,t,n,a){var c=Object(r.useState)(null),o=Object(i.a)(c,2),l=o[0],f=o[1];return Object(r.useEffect)((function(){!function(){var r,c;u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,u.a.awrap(H(e,t,n));case 2:if(r=o.sent,!a){o.next=9;break}return o.next=6,u.a.awrap(S(r.pr,r.head,a,r.diffFiles));case 6:o.t0=o.sent,o.next=10;break;case 9:o.t0=null;case 10:c=o.t0,f((function(e){return e&&c&&a&&(r.root=j(e.root,a,c)),Object(s.a)({},r)}));case 12:case"end":return o.stop()}}))}()}),[e,t,n,a]),l}(t,n,c,m);return Object(r.useEffect)((function(){!w&&C&&E(function(e){return e.children.find((function(e){return e.name.toLowerCase().includes("readme")}))||e.children[0]}(C.root))}),[C,w]),C&&w?a.a.createElement("main",{className:"App",style:{height:"100%"}},a.a.createElement(I.e,{height:"70px"},a.a.createElement(fe,C)),a.a.createElement(I.e,{height:"calc(100% - 70px)"},a.a.createElement(I.e.Item,{width:"300px",height:"100%"},a.a.createElement(oe,null,a.a.createElement(ie,{setMenu:p,selected:f,name:"Tree"}),a.a.createElement(ie,{setMenu:p,selected:f,name:"Files"})),"Tree"===f&&a.a.createElement(X,Object.assign({onOpen:v,selected:w,onSelect:E,hovered:O,onHover:k},C.root)),"Files"===f&&a.a.createElement(X,Object.assign({onOpen:function(){},selected:w,onSelect:E,hovered:O,onHover:k},C.root,{children:C.diffFiles.map((function(e){return{type:"file",name:e.filename.split("/").pop(),path:e.filename,status:e.status,children:[]}}))}))),a.a.createElement(I.e.Item,{flex:1,height:"100%"},a.a.createElement(oe,null,w.path),a.a.createElement(le,{pr:C.pr,base:C.base,head:C.head,selected:w})))):a.a.createElement("div",null,"Loading...")}function de(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),l=Object(i.a)(o,2),u=l[0],s=l[1],f=Object(r.useState)(""),p=Object(i.a)(f,2),d=p[0],h=p[1];return a.a.createElement("main",{className:"Info",style:{margin:"auto",width:"600px"}},a.a.createElement(I.f,{mt:4,textAlign:"center"},"PRHero"),a.a.createElement(I.b,{mt:4},a.a.createElement(I.h,{as:"p"},"To view a pull request type in the information below."),a.a.createElement(I.e,null,a.a.createElement(I.e,{p:1,flex:2},a.a.createElement(I.i,{onChange:function(e){return c(e.target.value)},width:"100%",placeholder:"Owner"})),a.a.createElement(I.e,{p:1,flex:2},a.a.createElement(I.i,{onChange:function(e){return s(e.target.value)},width:"100%",placeholder:"Repo"})),a.a.createElement(I.e,{p:1,flex:1},a.a.createElement(I.i,{onChange:function(e){return h(e.target.value)},width:"100%",placeholder:"Number"}))),a.a.createElement(I.e,{mt:2,justifyContent:"center",alignItems:"center"},a.a.createElement(I.e,null,a.a.createElement(I.d,{onClick:function(){window.location.href="".concat(window.location.pathname,"?owner=").concat(n,"&repo=").concat(u,"&pr=").concat(d)}},"Review")))))}n(144),n(145);o.a.render(a.a.createElement(I.a,null,a.a.createElement("div",{style:{height:"100vh"}},a.a.createElement((function(){var e=function(){if(window.location.search){var e=new URLSearchParams(window.location.search);if(e.get("owner")&&e.get("repo")&&e.get("pr"))return{owner:e.get("owner"),repo:e.get("repo"),pr:Number(e.get("pr"))}}var t=window.location.pathname.split("/");if(5===t.length){var n=t.splice(1),r=Object(i.a)(n,4),a=r[0],c=r[1],o=r[2],l=r[3];if("pull"!==o)return;return{owner:a,repo:c,pr:Number(l)}}}();return e?a.a.createElement(pe,e):a.a.createElement(de,null)}),null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,n){e.exports=n(146)}},[[55,1,2]]]);
//# sourceMappingURL=main.c5859fdc.chunk.js.map