(this.webpackJsonpprhero=this.webpackJsonpprhero||[]).push([[0],{145:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),o=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(5),u=n(3),l=n.n(u),s=n(51),f=n(43),p=n.n(f),d={};function h(e,t,n){var r;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(r="".concat(e,":").concat(t),!d[r]){a.next=3;break}return a.abrupt("return",d[r]);case 3:return a.next=5,l.a.awrap(n());case 5:return d[r]=a.sent,a.abrupt("return",d[r]);case 7:case"end":return a.stop()}}))}var m=new URLSearchParams(window.location.search),v=m.get("token"),b=m.get("url"),g=new p.a({auth:v||void 0,baseUrl:b||void 0});function w(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.awrap(g.users.getAuthenticated());case 3:return e=t.sent,t.next=6,l.a.awrap(g.search.issuesAndPullRequests({q:"state:open+type:pr+author:".concat(e.data.login)}));case 6:return t.abrupt("return",t.sent);case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,l.a.awrap(g.search.issuesAndPullRequests({q:"state:open+type:pr"}));case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}}),null,null,[[0,9]])}function x(e,t,n){var r=t.owner,a=t.repo,c=t.ref;return h(e.key,"content/".concat(r,"/").concat(a,"/").concat(c,"/").concat(n),(function(){return g.repos.getContents({owner:r,repo:a,ref:c,path:n,headers:{accept:"application/vnd.github.v3.raw"}}).then((function(e){return e.data}))}))}function E(e){var t=e.key,n=e.owner,r=e.repo,a=e.base,c=e.head;return h(t,"diff",(function(){return g.repos.compareCommits({owner:n,repo:r,base:a.fullRef,head:c.fullRef}).then((function(e){return e.data}))}))}function y(e,t,n){var r=e.key,a=t.owner,c=t.repo,o=t.ref;return h(r,"files/".concat(a,"/").concat(c,"/").concat(o,"/").concat(n),(function(){return g.repos.getContents({owner:a,repo:c,ref:o,path:n}).then((function(e){return e.data}))}))}function O(e,t,n){var r,a;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,l.a.awrap(g.pulls.get({owner:e,repo:t,pull_number:n}).then((function(e){return e.data})));case 2:return r=c.sent,a={owner:e,repo:t,number:r.number,key:"".concat(e,"/").concat(t,"/").concat(r.number,"/").concat(r.head.sha,"/").concat(r.base.sha),base:j(r.base),head:j(r.head)},c.abrupt("return",[a,r]);case 5:case"end":return c.stop()}}))}function j(e){return{owner:e.repo.owner.login,repo:e.repo.name,ref:e.ref,sha:e.sha,fullRef:"".concat(e.repo.owner.login,":").concat(e.ref)}}function k(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){(function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w());case 2:return e=t.sent,t.abrupt("return",e.data.items.map((function(e){var t=e.repository_url.split("/");return{title:e.title,author:e.user.login,repo:t.pop(),owner:t.pop(),number:e.number}})));case 4:case"end":return t.stop()}}))})().then(a)}),[]),n}function S(e,t,n){var r=JSON.parse(JSON.stringify(e)),a=t.split("/"),c=r,o=!0,i=!1,u=void 0;try{for(var l,s=function(){var e=l.value;c=c.children.find((function(t){return t.name===e}))},f=a[Symbol.iterator]();!(o=(l=f.next()).done);o=!0)s()}catch(p){i=!0,u=p}finally{try{o||null==f.return||f.return()}finally{if(i)throw u}}return c.children.length>0?r:(c.children=n,r)}function z(e,t,n){return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.a.awrap(H(e,t,"",n));case 2:return r.t0=r.sent,r.abrupt("return",{type:"folder",path:"/",name:"/",status:"unchanged",children:r.t0});case 4:case"end":return r.stop()}}))}function H(e,t,n,r){var a,c;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a=function(e,t){if("folder"===e)return r.find((function(e){return e.filename.startsWith(t)}))?"modified":"unchanged";var n=r.find((function(e){return e.filename===t}));return n?n.status:"unchanged"},o.next=3,l.a.awrap(y(e,t,n));case 3:if("file"!==(c=o.sent).type){o.next=6;break}return o.abrupt("return",[]);case 6:return o.abrupt("return",Promise.all(c.map((function(e){return"dir"===e.type?{type:"folder",name:e.name,path:e.path,status:a("folder",e.path),children:[]}:{type:"file",name:e.name,path:e.path,status:a("file",e.path),children:[]}}))));case 7:case"end":return o.stop()}}))}function L(e){var t,n,r;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(E(e));case 2:return t=a.sent,n=t.files.map((function(e){return{additions:e.additions,changes:e.changes,deletions:e.deletions,filename:e.filename,url:e.raw_url,sha:e.sha,status:e.status}})),r=t.commits.map((function(e){return{sha:e.sha,message:e.commit.message,author:{login:e.author.login,avatarUrl:e.author.avatar_url}}})),a.abrupt("return",{diffFiles:n,commits:r});case 6:case"end":return a.stop()}}))}function C(e,t,n){var r,a,c,o,u,s,f;return l.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,l.a.awrap(O(e,t,n));case 2:return r=p.sent,a=Object(i.a)(r,2),c=a[0],o=a[1],p.next=8,l.a.awrap(L(c));case 8:return u=p.sent,s=u.diffFiles,f=u.commits,p.t0=o.title,p.t1=c,p.t2=o.body,p.t3=o.state,p.t4=o.number,p.t5=o.user.login,p.t6=e,p.t7=t,p.next=21,l.a.awrap(z(c,c.head,s));case 21:return p.t8=p.sent,p.t9=c.head,p.t10=c.base,p.t11=s,p.t12=f,p.abrupt("return",{title:p.t0,pr:p.t1,description:p.t2,state:p.t3,number:p.t4,author:p.t5,owner:p.t6,repo:p.t7,root:p.t8,head:p.t9,base:p.t10,diffFiles:p.t11,commits:p.t12});case 27:case"end":return p.stop()}}))}var R=n(8),M=n(2);function N(){return a.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-chevron-right",viewBox:"0 0 8 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},a.a.createElement("path",{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}))}function P(){return a.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-chevron-down",viewBox:"0 0 10 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},a.a.createElement("path",{fillRule:"evenodd",d:"M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z"}))}function F(){return a.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-file",viewBox:"0 0 12 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},a.a.createElement("path",{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}))}var I=n(4);function V(){var e=Object(R.a)(["\n  position: relative;\n  padding-top: 10px;\n  font-size: 14px;\n  line-height: 20px;\n  background-color: #fafbfc;\n  height: calc(100% - 30px);\n  overflow-y: scroll;\n"]);return V=function(){return e},e}function A(){var e=Object(R.a)(["\n  & > svg {\n    display: inline-block;\n    vertical-align: middle;\n  }\n"]);return A=function(){return e},e}function B(){var e=Object(R.a)(["\n  background-color: rgba(0, 30, 30, 0.2);\n"]);return B=function(){return e},e}function _(){var e=Object(R.a)(["\n  background-color: rgba(0, 68, 196, 0.3);\n"]);return _=function(){return e},e}function q(){var e=Object(R.a)(["\n  position: absolute;\n  left: 0;\n  width: 300px;\n  margin-top: -1.5px;\n  height: 24px;\n  pointer-events: none;\n"]);return q=function(){return e},e}function J(){var e=Object(R.a)(["\n  list-style-type: none;\n  margin: 0;\n  padding-left: 1em;\n"]);return J=function(){return e},e}function U(){var e=Object(R.a)(["\n  padding: 2px 0;\n  cursor: pointer\n  margin: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return U=function(){return e},e}var T=M.c.li(U()),W=M.c.ul(J()),D=M.c.div(q()),$=Object(M.c)(D)(_()),G=Object(M.c)(D)(B()),K=Object(M.c)(I.g)(A()),Q=M.c.div(V());function X(e){var t=e.type,n=e.open;return"file"===t?a.a.createElement(F,null):n?a.a.createElement(P,null):a.a.createElement(N,null)}function Y(e){var t=e.name,n=e.children,c=e.type,o=e.path,u=e.selected,l=e.status,s=e.onOpen,f=e.onHover,p=e.hovered,d=e.onSelect,h=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1];return[n,function(){a(!n)}]}(),m=Object(i.a)(h,2),v=m[0],b=m[1],g=(null===u||void 0===u?void 0:u.path)===o,w=p===o;return a.a.createElement(T,{onMouseOver:function(e){e.stopPropagation(),f(o)},onClick:function(e){var r;e.stopPropagation(),"folder"===c&&(s(o),b()),"file"===c&&(s((r=o).substr(0,r.lastIndexOf("/"))),d({path:o,status:l,type:c,name:t,children:n}))}},g&&a.a.createElement($,null),w&&!g&&a.a.createElement(G,null),a.a.createElement(K,{color:ee(l)},a.a.createElement(X,{type:c,open:v})," ",t),n.length>0&&v&&a.a.createElement(W,null,te(n).map((function(e){return a.a.createElement(Y,Object.assign({hovered:p,onHover:f,onOpen:s,status:l,key:e.path,selected:u,onSelect:d},e))}))))}function Z(e){var t=e.children,n=e.onOpen,r=e.onHover,c=e.hovered,o=e.onSelect,i=e.selected,u=e.status;return a.a.createElement(Q,{onMouseLeave:function(){r(null)}},a.a.createElement(W,null,te(t).map((function(e){return a.a.createElement(Y,Object.assign({onOpen:n,onHover:r,hovered:c,status:u,key:e.path,selected:i,onSelect:o},e))}))))}function ee(e){switch(e){case"added":return"green.8";case"removed":return"red.8";case"modified":return"yellow.8";case"unchanged":return"black"}}function te(e){return e.sort((function(e,t){return"folder"===e.type&&"file"===t.type?-1:"folder"===t.type&&"file"===e.type?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:1}))}var ne=n(26);function re(){var e=Object(R.a)(["\n  margin: 0;\n  padding: 5px;\n  font-size: 0.8em;\n  height: 30px;\n  font-weight: bold;\n  color: #586069;\n  border-bottom: thin solid #eee;\n"]);return re=function(){return e},e}function ae(){var e=Object(R.a)(["\n  width: 100%;\n  height: calc(100% - 30px);\n"]);return ae=function(){return e},e}var ce={js:"javascript",ts:"typescript",md:"markdown",rb:"ruby",py:"python",json:"json",yml:"yaml",yaml:"yaml",Dockerfile:"dockerfile",go:"go"},oe=M.c.div(ae());function ie(e){var t=e.filename,n=e.original,r=e.modified,c=t.split(".").pop()||"";return a.a.createElement(oe,null,a.a.createElement(ne.DiffEditor,{original:n,modified:r,language:ce[t]||ce[c],options:{readOnly:!0},height:"100%"}))}var ue=M.c.p(re());function le(e){var t=e.setMenu,n=e.selected,r=e.name;return a.a.createElement(I.f,{onClick:function(){return t(r)},muted:n===r,href:"#".concat(r),p:2},r)}function se(e){var t=function(e){var t=e.pr,n=e.base,a=e.head,c=e.obj,o=Object(r.useState)(null),u=Object(i.a)(o,2),s=u[0],f=u[1];return Object(r.useEffect)((function(){!function(){var e,r;l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,l.a.awrap("added"===c.status?"":x(t,n,c.path));case 2:return e=o.sent,o.next=5,l.a.awrap("removed"===c.status?"":x(t,a,c.path));case 5:r=o.sent,f({original:e,modified:r,filename:c.path});case 7:case"end":return o.stop()}}))}()}),[t,n,a,c]),s}({pr:e.pr,base:e.base,head:e.head,obj:e.selected});return t?a.a.createElement(ie,t):a.a.createElement("div",null,"Loading...")}function fe(){var e=Object(R.a)(["\n  width: 100%;\n  padding: 10px;\n  height: 70px;\n  display: flex;\n  z-index: 1;\n  box-shadow: 0 1px 1px rgba(27, 31, 35, 0.1);\n"]);return fe=function(){return e},e}var pe=M.c.div(fe());function de(e){var t=e.owner,n=e.repo,r=e.number,c=e.title,o=e.head,i=e.base,u=e.author,l=e.commits;return a.a.createElement(pe,null,a.a.createElement(I.d.Item,{pr:4,alignSelf:"flex-end"},a.a.createElement(I.g,null,a.a.createElement(I.f,{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/".concat(t,"/").concat(n,"/pull/").concat(r)},t,"/",n,"#",r)),a.a.createElement(I.e,{fontSize:2,className:"text-center"},c)),a.a.createElement(I.d.Item,{alignSelf:"flex-end"},a.a.createElement(I.g,null,a.a.createElement(I.f,{href:"https://github.com/".concat(u)},u)," wants to merge ",l.length," ",1===l.length?"commit":"commits"," ","into"," ",a.a.createElement(I.c,null,i.owner,":",i.ref)," ","from"," ",a.a.createElement(I.c,null,o.owner,":",o.ref))))}function he(e){var t=e.owner,n=e.repo,c=e.pr;var o=Object(r.useState)("Tree"),u=Object(i.a)(o,2),f=u[0],p=u[1],d=Object(r.useState)(),h=Object(i.a)(d,2),m=h[0],v=h[1],b=Object(r.useState)(null),g=Object(i.a)(b,2),w=g[0],x=g[1],E=Object(r.useState)(null),y=Object(i.a)(E,2),O=y[0],j=y[1],k=function(e,t,n,a){var c=Object(r.useState)(null),o=Object(i.a)(c,2),u=o[0],f=o[1];return Object(r.useEffect)((function(){!function(){var r,c;l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,l.a.awrap(C(e,t,n));case 2:if(r=o.sent,!a){o.next=9;break}return o.next=6,l.a.awrap(H(r.pr,r.head,a,r.diffFiles));case 6:o.t0=o.sent,o.next=10;break;case 9:o.t0=null;case 10:c=o.t0,f((function(e){return e&&c&&a&&(r.root=S(e.root,a,c)),Object(s.a)({},r)}));case 12:case"end":return o.stop()}}))}()}),[e,t,n,a]),u}(t,n,c,m);return Object(r.useEffect)((function(){!w&&k&&x(function(e){return e.children.find((function(e){return e.name.toLowerCase().includes("readme")}))||e.children[0]}(k.root))}),[k,w]),k&&w?a.a.createElement("main",{className:"App",style:{height:"100%"}},a.a.createElement(I.d,{height:"70px"},a.a.createElement(de,k)),a.a.createElement(I.d,{height:"calc(100% - 70px)"},a.a.createElement(I.d.Item,{width:"300px",height:"100%"},a.a.createElement(ue,null,a.a.createElement(le,{setMenu:p,selected:f,name:"Tree"}),a.a.createElement(le,{setMenu:p,selected:f,name:"Files"})),"Tree"===f&&a.a.createElement(Z,Object.assign({onOpen:v,selected:w,onSelect:x,hovered:O,onHover:j},k.root)),"Files"===f&&a.a.createElement(Z,Object.assign({onOpen:function(){},selected:w,onSelect:x,hovered:O,onHover:j},k.root,{children:k.diffFiles.map((function(e){return{type:"file",name:e.filename.split("/").pop(),path:e.filename,status:e.status,children:[]}}))}))),a.a.createElement(I.d.Item,{flex:1,height:"100%"},a.a.createElement(ue,null,w.path),a.a.createElement(se,{pr:k.pr,base:k.base,head:k.head,selected:w})))):a.a.createElement("div",null,"Loading...")}function me(){var e=Object(R.a)(["\n  display: block;\n  padding: 8px;\n  border-bottom: 1px solid #eee;\n"]);return me=function(){return e},e}var ve=Object(M.c)("div")(me());function be(){var e=k();return a.a.createElement("main",{className:"Pulls",style:{margin:"auto",width:"600px"}},a.a.createElement(I.e,{mt:4,textAlign:"center"},"PRHero"),a.a.createElement(I.b,{mt:4,mb:4},e.map((function(e){return a.a.createElement(ve,null,a.a.createElement(I.f,{href:"?owner=".concat(e.owner,"&repo=").concat(e.repo,"&pr=").concat(e.number)},e.title),a.a.createElement("br",null),a.a.createElement(I.g,{fontSize:1},e.owner," / ",e.repo," #",e.number))}))))}n(144),n(145);o.a.render(a.a.createElement(I.a,null,a.a.createElement("div",{style:{height:"100vh"}},a.a.createElement((function(){var e=function(){if(window.location.search){var e=new URLSearchParams(window.location.search);if(e.get("owner")&&e.get("repo")&&e.get("pr"))return{owner:e.get("owner"),repo:e.get("repo"),pr:Number(e.get("pr"))}}var t=window.location.pathname.split("/");if(5===t.length){var n=t.splice(1),r=Object(i.a)(n,4),a=r[0],c=r[1],o=r[2],u=r[3];if("pull"!==o)return;return{owner:a,repo:c,pr:Number(u)}}}();return e?a.a.createElement(he,e):a.a.createElement(be,null)}),null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,n){e.exports=n(146)}},[[55,1,2]]]);
//# sourceMappingURL=main.09c4187e.chunk.js.map