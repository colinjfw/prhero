(this.webpackJsonpprhero=this.webpackJsonpprhero||[]).push([[0],{145:function(e,n,t){},146:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(19),c=t.n(o),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function u(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l=t(5),s=t(3),f=t.n(s),p=t(51),d=t(43),h=t.n(d),m={};function v(e,n,t){var r;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(r="".concat(e,":").concat(n),!m[r]){a.next=3;break}return a.abrupt("return",m[r]);case 3:return a.next=5,f.a.awrap(t());case 5:return m[r]=a.sent,a.abrupt("return",m[r]);case 7:case"end":return a.stop()}}))}var b=new URLSearchParams(window.location.search),g=b.get("token"),w=b.get("url"),E=new h.a({auth:g||void 0,baseUrl:w||void 0});function x(){var e;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.awrap(E.users.getAuthenticated());case 3:return e=n.sent,n.next=6,f.a.awrap(E.search.issuesAndPullRequests({q:"state:open+type:pr+author:".concat(e.data.login)}));case 6:return n.abrupt("return",n.sent);case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,f.a.awrap(E.search.issuesAndPullRequests({q:"state:open+type:pr"}));case 13:return n.abrupt("return",n.sent);case 14:case"end":return n.stop()}}),null,null,[[0,9]])}function y(e,n,t){var r=n.owner,a=n.repo,o=n.ref;return v(e.key,"content/".concat(r,"/").concat(a,"/").concat(o,"/").concat(t),(function(){return E.repos.getContents({owner:r,repo:a,ref:o,path:t,headers:{accept:"application/vnd.github.v3.raw"}}).then((function(e){return e.data}))}))}function O(e){var n=e.key,t=e.owner,r=e.repo,a=e.base,o=e.head;return v(n,"diff",(function(){return E.repos.compareCommits({owner:t,repo:r,base:a.fullRef,head:o.fullRef}).then((function(e){return e.data}))}))}function j(e,n,t){var r=e.key,a=n.owner,o=n.repo,c=n.ref;return v(r,"files/".concat(a,"/").concat(o,"/").concat(c,"/").concat(t),(function(){return E.repos.getContents({owner:a,repo:o,ref:c,path:t}).then((function(e){return e.data}))}))}function k(e,n,t){var r,a;return f.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,f.a.awrap(E.pulls.get({owner:e,repo:n,pull_number:t}).then((function(e){return e.data})));case 2:return r=o.sent,a={owner:e,repo:n,number:r.number,key:"".concat(e,"/").concat(n,"/").concat(r.number,"/").concat(r.head.sha,"/").concat(r.base.sha),base:S(r.base),head:S(r.head)},o.abrupt("return",[a,r]);case 5:case"end":return o.stop()}}))}function S(e){return{owner:e.repo.owner.login,repo:e.repo.name,ref:e.ref,sha:e.sha,fullRef:"".concat(e.repo.owner.login,":").concat(e.ref)}}function L(){var e=Object(r.useState)([]),n=Object(l.a)(e,2),t=n[0],a=n[1];return Object(r.useEffect)((function(){(function(){var e;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(x());case 2:return e=n.sent,n.abrupt("return",e.data.items.map((function(e){var n=e.repository_url.split("/");return{title:e.title,author:e.user.login,repo:n.pop(),owner:n.pop(),number:e.number}})));case 4:case"end":return n.stop()}}))})().then(a)}),[]),t}function C(e,n,t){var r=JSON.parse(JSON.stringify(e)),a=n.split("/"),o=r,c=!0,i=!1,u=void 0;try{for(var l,s=function(){var e=l.value;o=o.children.find((function(n){return n.name===e}))},f=a[Symbol.iterator]();!(c=(l=f.next()).done);c=!0)s()}catch(p){i=!0,u=p}finally{try{c||null==f.return||f.return()}finally{if(i)throw u}}return o.children.length>0?r:(o.children=t,r)}function R(e,n,t){return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.a.awrap(z(e,n,"",t));case 2:return r.t0=r.sent,r.abrupt("return",{type:"folder",path:"/",name:"/",status:"unchanged",children:r.t0});case 4:case"end":return r.stop()}}))}function z(e,n,t,r){var a,o;return f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a=function(e,n){if("folder"===e)return r.find((function(e){return e.filename.startsWith(n)}))?"modified":"unchanged";var t=r.find((function(e){return e.filename===n}));return t?t.status:"unchanged"},c.next=3,f.a.awrap(j(e,n,t));case 3:if("file"!==(o=c.sent).type){c.next=6;break}return c.abrupt("return",[]);case 6:return c.abrupt("return",Promise.all(o.map((function(e){return"dir"===e.type?{type:"folder",name:e.name,path:e.path,status:a("folder",e.path),children:[]}:{type:"file",name:e.name,path:e.path,status:a("file",e.path),children:[]}}))));case 7:case"end":return c.stop()}}))}function H(e){var n,t,r;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(O(e));case 2:return n=a.sent,t=n.files.map((function(e){return{additions:e.additions,changes:e.changes,deletions:e.deletions,filename:e.filename,url:e.raw_url,sha:e.sha,status:e.status}})),r=n.commits.map((function(e){return{sha:e.sha,message:e.commit.message,author:{login:e.author.login,avatarUrl:e.author.avatar_url}}})),a.abrupt("return",{diffFiles:t,commits:r});case 6:case"end":return a.stop()}}))}function N(e,n,t){var r,a,o,c,i,u,s;return f.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,f.a.awrap(k(e,n,t));case 2:return r=p.sent,a=Object(l.a)(r,2),o=a[0],c=a[1],p.next=8,f.a.awrap(H(o));case 8:return i=p.sent,u=i.diffFiles,s=i.commits,p.t0=c.title,p.t1=o,p.t2=c.body,p.t3=c.state,p.t4=c.number,p.t5=c.user.login,p.t6=e,p.t7=n,p.next=21,f.a.awrap(R(o,o.head,u));case 21:return p.t8=p.sent,p.t9=o.head,p.t10=o.base,p.t11=u,p.t12=s,p.abrupt("return",{title:p.t0,pr:p.t1,description:p.t2,state:p.t3,number:p.t4,author:p.t5,owner:p.t6,repo:p.t7,root:p.t8,head:p.t9,base:p.t10,diffFiles:p.t11,commits:p.t12});case 27:case"end":return p.stop()}}))}var P=t(8),A=t(2);function M(){return a.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-chevron-right",viewBox:"0 0 8 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},a.a.createElement("path",{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}))}function W(){return a.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-chevron-down",viewBox:"0 0 10 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},a.a.createElement("path",{fillRule:"evenodd",d:"M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z"}))}function F(){return a.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-file",viewBox:"0 0 12 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},a.a.createElement("path",{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}))}var U=t(4);function I(){var e=Object(P.a)(["\n  position: relative;\n  padding-top: 10px;\n  font-size: 14px;\n  line-height: 20px;\n  background-color: #fafbfc;\n  height: calc(100% - 30px);\n  overflow-y: scroll;\n"]);return I=function(){return e},e}function V(){var e=Object(P.a)(["\n  & > svg {\n    display: inline-block;\n    vertical-align: middle;\n  }\n"]);return V=function(){return e},e}function B(){var e=Object(P.a)(["\n  background-color: rgba(0, 30, 30, 0.2);\n"]);return B=function(){return e},e}function T(){var e=Object(P.a)(["\n  background-color: rgba(0, 68, 196, 0.3);\n"]);return T=function(){return e},e}function _(){var e=Object(P.a)(["\n  position: absolute;\n  left: 0;\n  width: 300px;\n  margin-top: -1.5px;\n  height: 24px;\n  pointer-events: none;\n"]);return _=function(){return e},e}function q(){var e=Object(P.a)(["\n  list-style-type: none;\n  margin: 0;\n  padding-left: 1em;\n"]);return q=function(){return e},e}function J(){var e=Object(P.a)(["\n  padding: 2px 0;\n  cursor: pointer\n  margin: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return J=function(){return e},e}var D=A.c.li(J()),$=A.c.ul(q()),G=A.c.div(_()),K=Object(A.c)(G)(T()),Q=Object(A.c)(G)(B()),X=Object(A.c)(U.g)(V()),Y=A.c.div(I());function Z(e){var n=e.type,t=e.open;return"file"===n?a.a.createElement(F,null):t?a.a.createElement(W,null):a.a.createElement(M,null)}function ee(e){var n=e.name,t=e.children,o=e.type,c=e.path,i=e.selected,u=e.status,s=e.onOpen,f=e.onHover,p=e.hovered,d=e.onSelect,h=function(){var e=Object(r.useState)(!1),n=Object(l.a)(e,2),t=n[0],a=n[1];return[t,function(){a(!t)}]}(),m=Object(l.a)(h,2),v=m[0],b=m[1],g=(null===i||void 0===i?void 0:i.path)===c,w=p===c;return a.a.createElement(D,{onMouseOver:function(e){e.stopPropagation(),f(c)},onClick:function(e){var r;e.stopPropagation(),"folder"===o&&(s(c),b()),"file"===o&&(s((r=c).substr(0,r.lastIndexOf("/"))),d({path:c,status:u,type:o,name:n,children:t}))}},g&&a.a.createElement(K,null),w&&!g&&a.a.createElement(Q,null),a.a.createElement(X,{color:te(u)},a.a.createElement(Z,{type:o,open:v})," ",n),t.length>0&&v&&a.a.createElement($,null,re(t).map((function(e){return a.a.createElement(ee,Object.assign({hovered:p,onHover:f,onOpen:s,status:u,key:e.path,selected:i,onSelect:d},e))}))))}function ne(e){var n=e.children,t=e.onOpen,r=e.onHover,o=e.hovered,c=e.onSelect,i=e.selected,u=e.status;return a.a.createElement(Y,{onMouseLeave:function(){r(null)}},a.a.createElement($,null,re(n).map((function(e){return a.a.createElement(ee,Object.assign({onOpen:t,onHover:r,hovered:o,status:u,key:e.path,selected:i,onSelect:c},e))}))))}function te(e){switch(e){case"added":return"green.8";case"removed":return"red.8";case"modified":return"yellow.8";case"unchanged":return"black"}}function re(e){return e.sort((function(e,n){return"folder"===e.type&&"file"===n.type?-1:"folder"===n.type&&"file"===e.type?1:e.name.toLowerCase()<n.name.toLowerCase()?-1:1}))}var ae=t(26);function oe(){var e=Object(P.a)(["\n  margin: 0;\n  padding: 5px;\n  font-size: 0.8em;\n  height: 30px;\n  font-weight: bold;\n  color: #586069;\n  border-bottom: thin solid #eee;\n"]);return oe=function(){return e},e}function ce(){var e=Object(P.a)(["\n  width: 100%;\n  height: calc(100% - 30px);\n"]);return ce=function(){return e},e}var ie={js:"javascript",ts:"typescript",md:"markdown",rb:"ruby",py:"python",json:"json",yml:"yaml",yaml:"yaml",Dockerfile:"dockerfile",go:"go"},ue=A.c.div(ce());function le(e){var n=e.filename,t=e.original,r=e.modified,o=n.split(".").pop()||"";return a.a.createElement(ue,null,a.a.createElement(ae.DiffEditor,{original:t,modified:r,language:ie[n]||ie[o],options:{readOnly:!0},height:"100%"}))}var se=A.c.p(oe());function fe(e){var n=e.setMenu,t=e.selected,r=e.name;return a.a.createElement(U.f,{onClick:function(){return n(r)},muted:t===r,href:"#".concat(r),p:2},r)}function pe(e){var n=function(e){var n=e.pr,t=e.base,a=e.head,o=e.obj,c=Object(r.useState)(null),i=Object(l.a)(c,2),u=i[0],s=i[1];return Object(r.useEffect)((function(){!function(){var e,r;f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,f.a.awrap("added"===o.status?"":y(n,t,o.path));case 2:return e=c.sent,c.next=5,f.a.awrap("removed"===o.status?"":y(n,a,o.path));case 5:r=c.sent,s({original:e,modified:r,filename:o.path});case 7:case"end":return c.stop()}}))}()}),[n,t,a,o]),u}({pr:e.pr,base:e.base,head:e.head,obj:e.selected});return n?a.a.createElement(le,n):a.a.createElement("div",null,"Loading...")}function de(){var e=Object(P.a)(["\n  width: 100%;\n  padding: 10px;\n  height: 70px;\n  display: flex;\n  z-index: 1;\n  box-shadow: 0 1px 1px rgba(27, 31, 35, 0.1);\n"]);return de=function(){return e},e}var he=A.c.div(de());function me(e){var n=e.owner,t=e.repo,r=e.number,o=e.title,c=e.head,i=e.base,u=e.author,l=e.commits;return a.a.createElement(he,null,a.a.createElement(U.d.Item,{pr:4,alignSelf:"flex-end"},a.a.createElement(U.g,null,a.a.createElement(U.f,{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/".concat(n,"/").concat(t,"/pull/").concat(r)},n,"/",t,"#",r)),a.a.createElement(U.e,{fontSize:2,className:"text-center"},o)),a.a.createElement(U.d.Item,{alignSelf:"flex-end"},a.a.createElement(U.g,null,a.a.createElement(U.f,{href:"https://github.com/".concat(u)},u)," wants to merge ",l.length," ",1===l.length?"commit":"commits"," ","into"," ",a.a.createElement(U.c,null,i.owner,":",i.ref)," ","from"," ",a.a.createElement(U.c,null,c.owner,":",c.ref))))}function ve(e){var n=e.owner,t=e.repo,o=e.pr;var c=Object(r.useState)("Tree"),i=Object(l.a)(c,2),u=i[0],s=i[1],d=Object(r.useState)(),h=Object(l.a)(d,2),m=h[0],v=h[1],b=Object(r.useState)(null),g=Object(l.a)(b,2),w=g[0],E=g[1],x=Object(r.useState)(null),y=Object(l.a)(x,2),O=y[0],j=y[1],k=function(e,n,t,a){var o=Object(r.useState)(null),c=Object(l.a)(o,2),i=c[0],u=c[1];return Object(r.useEffect)((function(){!function(){var r,o;f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,f.a.awrap(N(e,n,t));case 2:if(r=c.sent,!a){c.next=9;break}return c.next=6,f.a.awrap(z(r.pr,r.head,a,r.diffFiles));case 6:c.t0=c.sent,c.next=10;break;case 9:c.t0=null;case 10:o=c.t0,u((function(e){return e&&o&&a&&(r.root=C(e.root,a,o)),Object(p.a)({},r)}));case 12:case"end":return c.stop()}}))}()}),[e,n,t,a]),i}(n,t,o,m);return Object(r.useEffect)((function(){!w&&k&&E(function(e){return e.children.find((function(e){return e.name.toLowerCase().includes("readme")}))||e.children[0]}(k.root))}),[k,w]),k&&w?a.a.createElement("main",{className:"App",style:{height:"100%"}},a.a.createElement(U.d,{height:"70px"},a.a.createElement(me,k)),a.a.createElement(U.d,{height:"calc(100% - 70px)"},a.a.createElement(U.d.Item,{width:"300px",height:"100%"},a.a.createElement(se,null,a.a.createElement(fe,{setMenu:s,selected:u,name:"Tree"}),a.a.createElement(fe,{setMenu:s,selected:u,name:"Files"})),"Tree"===u&&a.a.createElement(ne,Object.assign({onOpen:v,selected:w,onSelect:E,hovered:O,onHover:j},k.root)),"Files"===u&&a.a.createElement(ne,Object.assign({onOpen:function(){},selected:w,onSelect:E,hovered:O,onHover:j},k.root,{children:k.diffFiles.map((function(e){return{type:"file",name:e.filename.split("/").pop(),path:e.filename,status:e.status,children:[]}}))}))),a.a.createElement(U.d.Item,{flex:1,height:"100%"},a.a.createElement(se,null,w.path),a.a.createElement(pe,{pr:k.pr,base:k.base,head:k.head,selected:w})))):a.a.createElement("div",null,"Loading...")}function be(){var e=Object(P.a)(["\n  display: block;\n  padding: 8px;\n  border-bottom: 1px solid #eee;\n"]);return be=function(){return e},e}var ge=Object(A.c)("div")(be());function we(){var e=L();return a.a.createElement("main",{className:"Pulls",style:{margin:"auto",width:"600px"}},a.a.createElement(U.e,{mt:4,textAlign:"center"},"PRHero"),a.a.createElement(U.b,{mt:4,mb:4},e.map((function(e){return a.a.createElement(ge,null,a.a.createElement(U.f,{href:"?owner=".concat(e.owner,"&repo=").concat(e.repo,"&pr=").concat(e.number)},e.title),a.a.createElement("br",null),a.a.createElement(U.g,{fontSize:1},e.owner," / ",e.repo," #",e.number))}))))}t(144),t(145);c.a.render(a.a.createElement(U.a,null,a.a.createElement("div",{style:{height:"100vh"}},a.a.createElement((function(){var e=function(){if(window.location.search){var e=new URLSearchParams(window.location.search);if(e.get("owner")&&e.get("repo")&&e.get("pr"))return{owner:e.get("owner"),repo:e.get("repo"),pr:Number(e.get("pr"))}}var n=window.location.pathname.split("/");if(5===n.length){var t=n.splice(1),r=Object(l.a)(t,4),a=r[0],o=r[1],c=r[2],i=r[3];if("pull"!==c)return;return{owner:a,repo:o,pr:Number(i)}}}();return e?a.a.createElement(ve,e):a.a.createElement(we,null)}),null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/prhero",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/prhero","/service-worker.js");i?(!function(e,n){fetch(e).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):u(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):u(n,e)}))}}()},55:function(e,n,t){e.exports=t(146)}},[[55,1,2]]]);
//# sourceMappingURL=main.be262ce2.chunk.js.map