(this.webpackJsonpprhero=this.webpackJsonpprhero||[]).push([[0],{121:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),o=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(3),i=n(1),s=n.n(i),u=n(34),p=new(n.n(u).a);function f(e,t,n){var r=Object(a.useState)(null),c=Object(l.a)(r,2),o=c[0],i=c[1];return Object(a.useEffect)((function(){(function(e,t,n){var a,r,c;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if("3",a="".concat(e,".").concat(t,".").concat(n,".").concat("3"),!(r=localStorage.getItem(a))){o.next=5;break}return o.abrupt("return",JSON.parse(r));case 5:return o.next=7,s.a.awrap(g(e,t,n));case 7:return c=o.sent,localStorage.setItem(a,JSON.stringify(c)),o.abrupt("return",c);case 10:case"end":return o.stop()}}))})(e,t,n).then(i)}),[e,t,n]),o}function h(e,t,n){var a;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.awrap(m(e,t,"",n));case 2:return a=r.sent,r.abrupt("return",{type:"folder",path:"/",name:"/",children:a});case 4:case"end":return r.stop()}}))}function m(e,t,n,a){var r;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,s.a.awrap(p.repos.getContents({owner:e,repo:t,ref:a,path:n}).then((function(e){return e.data})));case 2:return r=c.sent,c.abrupt("return",Promise.all(r.map((function(n){return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("dir"!==n.type){r.next=7;break}return r.t0=n.name,r.t1=n.path,r.next=5,s.a.awrap(m(e,t,n.path,a));case 5:return r.t2=r.sent,r.abrupt("return",{type:"folder",name:r.t0,path:r.t1,children:r.t2});case 7:return r.abrupt("return",{type:"file",name:n.name,path:n.path,children:[]});case 8:case"end":return r.stop()}}))}))));case 4:case"end":return c.stop()}}))}function d(e,t,n,a){var r,c,o;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if("3",r="".concat(e,".").concat(t,".").concat(n,".").concat(a,".").concat("3"),!(c=localStorage.getItem(r))){l.next=5;break}return l.abrupt("return",c);case 5:return l.next=7,s.a.awrap(v(e,t,n,a));case 7:return o=l.sent,localStorage.setItem(r,o),l.abrupt("return",o);case 10:case"end":return l.stop()}}))}function v(e,t,n,a){return p.repos.getContents({owner:e,repo:t,ref:n,path:a,headers:{accept:"application/vnd.github.v3.raw"}}).then((function(e){return e.data}))}function g(e,t,n){var a,r,c,o;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,s.a.awrap(p.pulls.get({owner:e,repo:t,pull_number:n}).then((function(e){return e.data})));case 2:return a=l.sent,l.next=5,s.a.awrap(p.repos.compareCommits({owner:e,repo:t,base:"".concat(a.base.repo.owner.login,":").concat(a.base.ref),head:"".concat(a.head.repo.owner.login,":").concat(a.head.ref)}).then((function(e){return e.data})));case 5:return r=l.sent,c=r.files.map((function(e){return{additions:e.additions,changes:e.changes,deletions:e.deletions,filename:e.filename,url:e.raw_url,sha:e.sha,status:e.status}})),l.next=9,s.a.awrap(h(a.head.repo.owner.login,a.head.repo.name,a.head.ref));case 9:return o=l.sent,l.abrupt("return",{title:a.title,description:a.body,state:a.state,number:a.number,owner:e,repo:t,root:o,base:{repo:{owner:a.base.repo.owner.login,name:a.base.repo.name},ref:a.base.ref,sha:a.base.sha},head:{repo:{owner:a.head.repo.owner.login,name:a.head.repo.name},ref:a.head.ref,sha:a.head.sha},diffFiles:c,commits:r.commits.map((function(e){return{sha:e.sha,message:e.commit.message,author:{login:e.author.login,avatarUrl:e.author.avatar_url}}}))});case 11:case"end":return l.stop()}}))}var w={Child:function(e){var t=e.flex,n=e.className,a=e.children;return r.a.createElement("div",{className:"Flex-Child ".concat(n),style:{flex:t}},a)},Container:function(e){var t=e.children,n=e.className;return r.a.createElement("div",{className:"Flex-Container ".concat(n),style:{display:"flex"}},t)}};function b(){return r.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-chevron-right",viewBox:"0 0 8 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},r.a.createElement("path",{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}))}function E(){return r.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-chevron-down",viewBox:"0 0 10 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},r.a.createElement("path",{fillRule:"evenodd",d:"M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z"}))}function y(){return r.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-file",viewBox:"0 0 12 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},r.a.createElement("path",{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}))}n(94);function x(e){var t=e.type,n=e.open;return"file"===t?r.a.createElement(y,null):n?r.a.createElement(E,null):r.a.createElement(b,null)}function N(){return r.a.createElement("div",{className:"Tree-SelectedLine"})}function j(e){var t=e.name,n=e.children,c=e.type,o=e.path,i=e.selected,s=e.changedFiles,u=e.onSelect,p=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1];return[n,function(){r(!n)}]}(),f=Object(l.a)(p,2),h=f[0],m=f[1],d=i===o,v="folder"===c?s.find((function(e){return e.startsWith(o)})):s.includes(o);return r.a.createElement("li",{onClick:function(e){e.stopPropagation(),"folder"===c&&m(),"file"===c&&u(o)},className:"Tree-Item } ".concat(d?"Tree-selected text-white":"")},d&&r.a.createElement(N,null),r.a.createElement("span",{className:v?"Tree-changed text-green":""},r.a.createElement(x,{type:c,open:h})," ",t),n.length>0&&h&&r.a.createElement("ul",{className:"Tree-Children"},C(n).map((function(e){return r.a.createElement(j,Object.assign({changedFiles:s,key:e.path,selected:i,onSelect:u},e))}))))}function O(e){var t=e.children,n=e.onSelect,a=e.selected,c=e.changedFiles;return r.a.createElement("ul",{className:"Tree"},C(t).map((function(e){return r.a.createElement(j,Object.assign({changedFiles:c,key:e.path,selected:a,onSelect:n},e))})))}function C(e){return e.sort((function(e,t){return"folder"===e.type&&"file"===t.type?-1:"folder"===t.type&&"file"===e.type?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:1}))}var S=n(19),k=(n(121),{js:"javascript",ts:"typescript",md:"markdown",rb:"ruby",py:"python",json:"json",yml:"yaml",yaml:"yaml",Dockerfile:"dockerfile"});function F(e){var t=e.filename,n=e.original,a=e.modified,c=t.split(".").pop()||"";return r.a.createElement("div",{className:"DiffEditor"},r.a.createElement(S.DiffEditor,{original:n,modified:a,language:k[t]||k[c],options:{readOnly:!0},theme:"dark",height:"100%"}))}function L(e){var t=e.children;return r.a.createElement("p",{className:"EditorHeader"},t)}function z(e){var t=function(e){var t=e.base,n=e.head,r=e.path,c=Object(a.useState)(null),o=Object(l.a)(c,2),i=o[0],u=o[1];return Object(a.useEffect)((function(){!function(){var e,a;s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,s.a.awrap(d(t.repo.owner,t.repo.name,t.ref,r));case 2:return e=c.sent,c.next=5,s.a.awrap(d(n.repo.owner,n.repo.name,n.ref,r));case 5:a=c.sent,u({original:e,modified:a,filename:r});case 7:case"end":return c.stop()}}))}()}),[t,n,r]),i}({base:e.base,head:e.head,path:e.selected});return t?r.a.createElement(F,t):r.a.createElement("div",null,"Loading...")}function R(e){var t=e.owner,n=e.repo,a=e.number,c=e.title,o=e.description;return r.a.createElement("div",{className:"p-1"},r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/".concat(t,"/").concat(n,"/pull/").concat(a)},t,"/",n,"#",a)),r.a.createElement("h3",{className:"text-center"},c),r.a.createElement("p",null,o))}function H(e){var t=e.owner,n=e.repo,c=e.pr,o=Object(a.useState)(),i=Object(l.a)(o,2),s=i[0],u=i[1],p=f(t,n,c);return Object(a.useEffect)((function(){!s&&p&&u(p.diffFiles[0].filename)}),[p,s]),p&&s?r.a.createElement("main",{className:"App bg-secondary full-height"},r.a.createElement(w.Container,{className:"full-height"},r.a.createElement(w.Child,{flex:1,className:"position-relative full-height"},r.a.createElement(R,p),r.a.createElement(O,Object.assign({selected:s,onSelect:u,changedFiles:p.diffFiles.map((function(e){return e.filename}))},p.root))),r.a.createElement(w.Child,{flex:5,className:"bg-primary full-height"},r.a.createElement(L,null,s),r.a.createElement(z,{base:p.base,head:p.head,selected:s})))):r.a.createElement("div",null,"Loading...")}function I(){return r.a.createElement("main",{className:"Info text-center"},r.a.createElement("h1",null,"A better way to review PR's"),r.a.createElement("p",null,r.a.createElement("a",{href:"https://colinjfw.github.io/prhero/#deliverybot/deploybot/24"},"Try the example")," or review any pull request at https://colinjfw.github.io/prhero/#OWNER/REPO/PR."),r.a.createElement("p",null,"For more information visit the project ",r.a.createElement("a",{href:"https://github.com/colinjfw/prhero"},"README.")))}n(122),n(123);o.a.render(r.a.createElement((function(){var e=window.location.hash.replace("#","").split("/").filter((function(e){return!!e}));if(console.log(e),3!==e.length)return r.a.createElement(I,null);var t=Object(l.a)(e,3),n=t[0],a=t[1],c=t[2];return r.a.createElement(H,{owner:n,repo:a,pr:Number(c)})}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},35:function(e,t,n){e.exports=n(124)},94:function(e,t,n){}},[[35,1,2]]]);
//# sourceMappingURL=main.668410e7.chunk.js.map