(this.webpackJsonpprhero=this.webpackJsonpprhero||[]).push([[0],{145:function(e,n,t){},146:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(19),c=t.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=t(5),l=t(4),u=t.n(l),s=t(51),p=t(43),f=new(t.n(p).a);function h(e,n,t){var r;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(d(e,n,"",t));case 2:return r=a.sent,a.abrupt("return",{type:"folder",path:"/",name:"/",children:r});case 4:case"end":return a.stop()}}))}function m(e,n,t,r,a){var o,c,i,l,s,p,f,h,m;return u.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:for(o=JSON.parse(JSON.stringify(e)),c=a.split("/"),i=o,l=!0,s=!1,p=void 0,v.prev=6,f=function(){var e=m.value;i=i.children.find((function(n){return n.name===e}))},h=c[Symbol.iterator]();!(l=(m=h.next()).done);l=!0)f();v.next=15;break;case 11:v.prev=11,v.t0=v.catch(6),s=!0,p=v.t0;case 15:v.prev=15,v.prev=16,l||null==h.return||h.return();case 18:if(v.prev=18,!s){v.next=21;break}throw p;case 21:return v.finish(18);case 22:return v.finish(15);case 23:if(!(i.children.length>0)){v.next=25;break}return v.abrupt("return",o);case 25:return v.next=27,u.a.awrap(d(n,t,a,r));case 27:return i.children=v.sent,v.abrupt("return",o);case 29:case"end":return v.stop()}}),null,null,[[6,11,15,23],[16,,18,22]])}function d(e,n,t,r){var a;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,u.a.awrap(f.repos.getContents({owner:e,repo:n,ref:r,path:t}).then((function(e){return e.data})));case 2:if("file"!==(a=o.sent).type){o.next=5;break}return o.abrupt("return",[]);case 5:return o.abrupt("return",Promise.all(a.map((function(e){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("dir"!==e.type){n.next=2;break}return n.abrupt("return",{type:"folder",name:e.name,path:e.path,children:[]});case 2:return n.abrupt("return",{type:"file",name:e.name,path:e.path,children:[]});case 3:case"end":return n.stop()}}))}))));case 6:case"end":return o.stop()}}))}var v={};function g(e,n,t){var r,a,o;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if("v2",r="".concat(e,".").concat(n,".").concat(t,".").concat("v2"),!(a=v[r])){c.next=5;break}return c.abrupt("return",a);case 5:return c.next=7,u.a.awrap(E(e,n,t));case 7:return o=c.sent,v[r]=o,c.abrupt("return",o);case 10:case"end":return c.stop()}}))}function b(e,n,t,r){var a,o,c;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if("v1",a="".concat(e,".").concat(n,".").concat(t,".").concat(r,".").concat("v1"),!(o=v[a])){i.next=5;break}return i.abrupt("return",o);case 5:return i.next=7,u.a.awrap(w(e,n,t,r));case 7:return c=i.sent,v[a]=c,i.abrupt("return",c);case 10:case"end":return i.stop()}}))}function w(e,n,t,r){return f.repos.getContents({owner:e,repo:n,ref:t,path:r,headers:{accept:"application/vnd.github.v3.raw"}}).then((function(e){return e.data}))}function E(e,n,t){var r,a,o,c;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,u.a.awrap(f.pulls.get({owner:e,repo:n,pull_number:t}).then((function(e){return e.data})));case 2:return r=i.sent,i.next=5,u.a.awrap(f.repos.compareCommits({owner:e,repo:n,base:"".concat(r.base.repo.owner.login,":").concat(r.base.ref),head:"".concat(r.head.repo.owner.login,":").concat(r.head.ref)}).then((function(e){return e.data})));case 5:return a=i.sent,o=a.files.map((function(e){return{additions:e.additions,changes:e.changes,deletions:e.deletions,filename:e.filename,url:e.raw_url,sha:e.sha,status:e.status}})),i.next=9,u.a.awrap(h(r.head.repo.owner.login,r.head.repo.name,r.head.ref));case 9:return c=i.sent,i.abrupt("return",{title:r.title,description:r.body,state:r.state,number:r.number,author:r.user.login,owner:e,repo:n,root:c,base:{repo:{owner:r.base.repo.owner.login,name:r.base.repo.name},ref:r.base.ref,sha:r.base.sha},head:{repo:{owner:r.head.repo.owner.login,name:r.head.repo.name},ref:r.head.ref,sha:r.head.sha},diffFiles:o,commits:a.commits.map((function(e){return{sha:e.sha,message:e.commit.message,author:{login:e.author.login,avatarUrl:e.author.avatar_url}}}))});case 11:case"end":return i.stop()}}))}!function(){var e=localStorage.getItem("cache");e&&(v=JSON.parse(e)),setInterval((function(){localStorage.setItem("cache",JSON.stringify(v))}),1e3)}();var x=t(9),O=t(2);function y(){return a.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-chevron-right",viewBox:"0 0 8 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},a.a.createElement("path",{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}))}function j(){return a.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-chevron-down",viewBox:"0 0 10 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},a.a.createElement("path",{fillRule:"evenodd",d:"M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z"}))}function S(){return a.a.createElement("svg",{width:"16",height:"16",className:"octicon octicon-file",viewBox:"0 0 12 16",version:"1.1","aria-hidden":"true",fill:"currentColor"},a.a.createElement("path",{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}))}var k=t(3);function C(){var e=Object(x.a)(["\n  padding-top: 30px;\n  font-size: 14px;\n  line-height: 20px;\n  background-color: #fafbfc;\n  height: 100%;\n"]);return C=function(){return e},e}function N(){var e=Object(x.a)(["\n  background-color: rgba(0, 30, 30, 0.2);\n"]);return N=function(){return e},e}function z(){var e=Object(x.a)(["\n  background-color: rgba(0, 68, 196, 0.3);\n"]);return z=function(){return e},e}function H(){var e=Object(x.a)(["\n  position: absolute;\n  left: 0;\n  width: 300px;\n  margin-top: -2px;\n  height: 24px;\n  pointer-events: none;\n"]);return H=function(){return e},e}function I(){var e=Object(x.a)(["\n  list-style-type: none;\n  margin: 0;\n  padding-left: 1em;\n"]);return I=function(){return e},e}function L(){var e=Object(x.a)(["\n  padding: 2px 0;\n  cursor: pointer\n  margin: 0;\n"]);return L=function(){return e},e}var F=O.c.li(L()),M=O.c.ul(I()),R=O.c.div(H()),J=Object(O.c)(R)(z()),V=Object(O.c)(R)(N()),B=O.c.div(C());function P(e){var n=e.type,t=e.open;return"file"===n?a.a.createElement(S,null):t?a.a.createElement(j,null):a.a.createElement(y,null)}function _(e){var n=e.name,t=e.children,o=e.type,c=e.path,l=e.selected,u=e.changedFiles,s=e.onOpen,p=e.onHover,f=e.hovered,h=e.onSelect,m=function(){var e=Object(r.useState)(!1),n=Object(i.a)(e,2),t=n[0],a=n[1];return[t,function(){a(!t)}]}(),d=Object(i.a)(m,2),v=d[0],g=d[1],b=l===c,w=f===c,E="folder"===o?u.find((function(e){return e.startsWith(c)})):u.includes(c);return a.a.createElement(F,{onMouseOver:function(e){e.stopPropagation(),p(c)},onClick:function(e){var n;e.stopPropagation(),"folder"===o&&(s(c),g()),"file"===o&&(s((n=c).substr(0,n.lastIndexOf("/"))),h(c))}},b&&a.a.createElement(J,null),w&&!b&&a.a.createElement(V,null),a.a.createElement(k.h,{color:E?"green.5":"black"},a.a.createElement(P,{type:o,open:v})," ",n),t.length>0&&v&&a.a.createElement(M,null,A(t).map((function(e){return a.a.createElement(_,Object.assign({hovered:f,onHover:p,onOpen:s,changedFiles:u,key:e.path,selected:l,onSelect:h},e))}))))}function W(e){var n=e.children,t=e.onOpen,r=e.onHover,o=e.hovered,c=e.onSelect,i=e.selected,l=e.changedFiles;return a.a.createElement(B,{onMouseLeave:function(){r(null)}},a.a.createElement(M,null,A(n).map((function(e){return a.a.createElement(_,Object.assign({onOpen:t,onHover:r,hovered:o,changedFiles:l,key:e.path,selected:i,onSelect:c},e))}))))}function A(e){return e.sort((function(e,n){return"folder"===e.type&&"file"===n.type?-1:"folder"===n.type&&"file"===e.type?1:e.name.toLowerCase()<n.name.toLowerCase()?-1:1}))}var D=t(26);function U(){var e=Object(x.a)(["\n  margin: 0;\n  padding: 5px;\n  font-size: 0.8em;\n  height: 30px;\n  font-weight: bold;\n  color: #586069;\n  border-bottom: thin solid #eee;\n"]);return U=function(){return e},e}function q(){var e=Object(x.a)(["\n  width: 100%;\n  height: calc(100% - 30px);\n"]);return q=function(){return e},e}var T={js:"javascript",ts:"typescript",md:"markdown",rb:"ruby",py:"python",json:"json",yml:"yaml",yaml:"yaml",Dockerfile:"dockerfile",go:"go"},Y=O.c.div(q());function $(e){var n=e.filename,t=e.original,r=e.modified,o=n.split(".").pop()||"";return a.a.createElement(Y,null,a.a.createElement(D.DiffEditor,{original:t,modified:r,language:T[n]||T[o],options:{readOnly:!0},height:"100%"}))}var G=O.c.p(U());function K(e){var n=function(e){var n=e.base,t=e.head,a=e.path,o=Object(r.useState)(null),c=Object(i.a)(o,2),l=c[0],s=c[1];return Object(r.useEffect)((function(){!function(){var e,r;u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,u.a.awrap(b(n.repo.owner,n.repo.name,n.ref,a));case 2:return e=o.sent,o.next=5,u.a.awrap(b(t.repo.owner,t.repo.name,t.ref,a));case 5:r=o.sent,s({original:e,modified:r,filename:a});case 7:case"end":return o.stop()}}))}()}),[n,t,a]),l}({base:e.base,head:e.head,path:e.selected});return n?a.a.createElement($,n):a.a.createElement("div",null,"Loading...")}function Q(){var e=Object(x.a)(["\n  width: 100%;\n  padding: 10px;\n  height: 70px;\n  display: flex;\n  z-index: 1;\n  box-shadow: 0 1px 1px rgba(27, 31, 35, 0.1);\n"]);return Q=function(){return e},e}var X=O.c.div(Q());function Z(e){var n=e.owner,t=e.repo,r=e.number,o=e.title,c=e.head,i=e.base,l=e.author,u=e.commits;return a.a.createElement(X,null,a.a.createElement(k.e.Item,{pr:4,alignSelf:"flex-end"},a.a.createElement(k.h,null,a.a.createElement(k.g,{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/".concat(n,"/").concat(t,"/pull/").concat(r)},n,"/",t,"#",r)),a.a.createElement(k.f,{fontSize:2,className:"text-center"},o)),a.a.createElement(k.e.Item,{alignSelf:"flex-end"},a.a.createElement(k.h,null,a.a.createElement(k.g,{href:"https://github.com/".concat(l)},l)," wants to merge ",u.length," ",1===u.length?"commit":"commits"," ","into"," ",a.a.createElement(k.c,null,i.repo.owner,":",i.ref)," ","from"," ",a.a.createElement(k.c,null,c.repo.owner,":",c.ref))))}function ee(e){var n=e.owner,t=e.repo,o=e.pr,c=Object(r.useState)(),l=Object(i.a)(c,2),p=l[0],f=l[1],h=Object(r.useState)(),d=Object(i.a)(h,2),v=d[0],b=d[1],w=Object(r.useState)(null),E=Object(i.a)(w,2),x=E[0],O=E[1],y=function(e,n,t,a){var o=Object(r.useState)(null),c=Object(i.a)(o,2),l=c[0],p=c[1];return Object(r.useEffect)((function(){!function(){var r,o;u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,u.a.awrap(g(e,n,t));case 2:if(r=c.sent,l&&(r.root=l.root),!a){c.next=9;break}return c.next=7,u.a.awrap(m(r.root,r.head.repo.owner,r.head.repo.name,r.head.ref,a));case 7:o=c.sent,r=Object(s.a)({},r,{root:o});case 9:p(r);case 10:case"end":return c.stop()}}))}()}),[e,n,t,a]),l}(n,t,o,p);return Object(r.useEffect)((function(){!v&&y&&b(y.diffFiles[0].filename)}),[y,v]),y&&v?a.a.createElement("main",{className:"App",style:{height:"100%"}},a.a.createElement(k.e,{height:"70px"},a.a.createElement(Z,y)),a.a.createElement(k.e,{height:"calc(100% - 70px)"},a.a.createElement(k.e.Item,{width:"300px",height:"100%",overflowY:"scroll"},a.a.createElement(W,Object.assign({onOpen:f,selected:v,onSelect:b,hovered:x,onHover:O,changedFiles:y.diffFiles.map((function(e){return e.filename}))},y.root))),a.a.createElement(k.e.Item,{flex:1,height:"100%"},a.a.createElement(G,null,v),a.a.createElement(K,{base:y.base,head:y.head,selected:v})))):a.a.createElement("div",null,"Loading...")}function ne(){var e=Object(r.useState)(""),n=Object(i.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)(""),l=Object(i.a)(c,2),u=l[0],s=l[1],p=Object(r.useState)(""),f=Object(i.a)(p,2),h=f[0],m=f[1];return a.a.createElement("main",{className:"Info",style:{margin:"auto",width:"600px"}},a.a.createElement(k.f,{mt:4,textAlign:"center"},"PRHero"),a.a.createElement(k.b,{mt:4},a.a.createElement(k.h,{as:"p"},"To view a pull request type in the information below."),a.a.createElement(k.e,null,a.a.createElement(k.e,{p:1,flex:2},a.a.createElement(k.i,{onChange:function(e){return o(e.target.value)},width:"100%",placeholder:"Owner"})),a.a.createElement(k.e,{p:1,flex:2},a.a.createElement(k.i,{onChange:function(e){return s(e.target.value)},width:"100%",placeholder:"Repo"})),a.a.createElement(k.e,{p:1,flex:1},a.a.createElement(k.i,{onChange:function(e){return m(e.target.value)},width:"100%",placeholder:"Number"}))),a.a.createElement(k.e,{mt:2,justifyContent:"center",alignItems:"center"},a.a.createElement(k.e,null,a.a.createElement(k.d,{onClick:function(){window.location.href="".concat(window.location.pathname,"?owner=").concat(t,"&repo=").concat(u,"&pr=").concat(h)}},"Review")))))}t(144),t(145);c.a.render(a.a.createElement(k.a,null,a.a.createElement("div",{style:{height:"100vh"}},a.a.createElement((function(){var e=function(){if(window.location.search){var e=new URLSearchParams(window.location.search);if(e.has("owner")&&e.has("repo")&&e.has("pr"))return{owner:e.get("owner"),repo:e.get("repo"),pr:Number(e.get("pr"))}}var n=window.location.pathname.split("/");if(5===n.length){var t=n.splice(1),r=Object(i.a)(t,4),a=r[0],o=r[1],c=r[2],l=r[3];if("pull"!==c)return;return{owner:a,repo:o,pr:Number(l)}}}();return e?a.a.createElement(ee,e):a.a.createElement(ne,null)}),null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,n,t){e.exports=t(146)}},[[55,1,2]]]);
//# sourceMappingURL=main.1a311eb7.chunk.js.map